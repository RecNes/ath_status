{% load i18n static %}
<!DOCTYPE html>
<html lang="tr" xmlns="http://www.w3.org/1999/html">
<head>
    <meta charset="UTF-8">
    <title>All Times High Rates</title>
    <link rel="icon" type="image/x-icon" href="{% static 'favicon.ico' %}">

    <link rel="stylesheet" href="{% static 'ath_status/main.css' %}">

    <script src="https://cdn.jsdelivr.net/npm/chart.js@2.9.4/dist/Chart.min.js"></script>
    <script src="{% static 'ath_status/main.js' %}"></script>

</head>
<body onload="drawCharts(); startAutoRefresh();">
    <!-- Büyük grafik modalı -->
    <div id="big-chart-modal">
        <div class="modal-content">
            <button class="close-btn" onclick="document.getElementById('big-chart-modal').style.display='none'">&times;</button>
            <div id="big-chart-title"></div>
            <canvas id="big-chart-canvas" width="1100" height="480"></canvas>
        </div>
    </div>
<div class="container">
    <div class="centered">
        <div class="inner-left">
            <div class="box_left">

                <table style="border: black 0 solid; align-self: center; width: 98%; text-align: center;">
                    <thead>
                    <tr>
                        <td>{% trans "Currency" %}</td>
                        <td>{% trans "Current Rate" %}</td>
                        <td>{% trans "ATH Rate" %}</td>
                        <td>{% trans "Günlük En Düşük Fiyat" %}</td>
                        <td>{{ graph_day_range }} {% trans " Days Graph" %}</td>
                    </tr>
                    </thead>
                    <tbody>
                    {% for exchange_currency in exchange_currencies %}
                    <tr>
                        <td>
                            1 {{ exchange_currency.base.upper }}
                            {% if exchange_currency.base_symbol %}
                            ({{ exchange_currency.base_symbol }})
                            {% endif %}
                        </td>
                        <td id="current-rate-{{ exchange_currency.id }}" title="{{ exchange_currency.rates.last.record_date }}">
                            {{ exchange_currency.rates.last.exchange_rate }}
                            {% if exchange_currency.target_symbol %}
                            {{ exchange_currency.target_symbol }}
                            {% endif %}
                        </td>
                        <td id="ath-rate-{{ exchange_currency.id }}" title="{{ exchange_currency.alltimehigh.update_date }}">
                            {{ exchange_currency.alltimehigh.exchange_rate }}
                            {% if exchange_currency.target_symbol %}
                            {{ exchange_currency.target_symbol }}
                            {% endif %}
                        </td>
                        <td id="lowest-rate-{{ exchange_currency.id }}" title="{{ exchange_currency.dailylowestprice.update_date }}">
                            {{ exchange_currency.dailylowestprice.daily_lowest_price }}
                            {% if exchange_currency.target_symbol %}
                            {{ exchange_currency.target_symbol }}
                            {% endif %}
                        </td>
                        <td>
                            <canvas class="currency-chart" id="{{ exchange_currency.id }}-currency-chart"
                                    data-id="{{ exchange_currency.id }}" width="300" height="50">
                            </canvas>
                        </td>
                    </tr>
                    {% endfor %}
                    </tbody>
                </table>
            </div>
        </div>
        <div class="inner-right">
            <div class="box_right" style="padding: 0 10px; color: white;">
                <span>
                    <img src="{% static 'logo.png' %}" alt="Logo" style="height: 330px; vertical-align: middle; border-radius: 8px; margin-left: 10px;">
                </span>
                <h2>
                    <span style="display: flex; align-items: center; justify-content: center; gap: 5px; padding-top: 15px;">
                        ALL TIMES HIGH RATES
                    </span>
                </h2>
                <p style="width: 300px; margin-left: auto; margin-right: auto;">
                    <span>
                        Collects ATH exchange rates, and then tweets and/or send message over telegram if last ATH were exceeded.
                    </span>
                    <br>
                    <br>
                    <span>You can follow ATH messages from:</span>
                    <br>
                </p>
                <ul>
                    <li>
                        Via tweets at my personal <a href="https://twitter.com/Sencer_H" target="_blank">twitter
                        account</a>
                    </li>
                    <li>
                        Via Telegram messages of <a href="https://t.me/usdtryath_bot">@usdtryath_bot</a>
                    </li>
                </ul>

                <p style="width: 300px; margin-left: auto; margin-right: auto;">
                    You can checkout code base from <a href="https://github.com/RecNes/ath_status">GitHub</a> and give a
                    star if you like it.
                </p>
                <p style="width: 300px; margin-left: auto; margin-right: auto;">
                    <br><br>
                    <div style="width: 300px; text-align: right; margin-bottom: 8px;">
                        <label for="update-interval" style="color: #ffffffff; font-weight: bold;">Update Interval: </label>
                        <select id="update-interval" style="font-size: 1em; padding: 2px 8px; border-radius: 4px;">
                            <option value="2">2 min</option>
                            <option value="5" selected>5 min</option>
                            <option value="10">10 min</option>
                            <option value="30">30 min</option>
                        </select>
                    </div>
                </p>
            </div>
        </div>
    </div>
</div>
</body>
</html>